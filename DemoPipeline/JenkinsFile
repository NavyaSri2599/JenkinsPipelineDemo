pipeline {
    agent any

    stages {
    
         stage('Compiling Stage') {
            steps {
              deleteDir()
              checkout scm
            	withMaven(jdk: 'jdk1.8', maven: 'maven_3_8_1') {
                 bat 'mvn compile'
              } 
            }
        }
    
         stage('Building Stage') {
            steps {
            		withMaven(jdk: 'jdk1.8', maven: 'maven_3_8_1') {
                bat 'mvn clean install'
              } 
            }
        }
         stage('Deploying Stage') {
            steps {
               withMaven(jdk: 'jdk1.8', maven: 'maven_3_8_1') {
                bat 'mvn clean deploy'
              } 
            }
        }
    }
}
